/* ============================================
   Card 卡片组件样式库
   ============================================ */

/* 基础 Card */
@utility card {
  border-radius: var(--radius);
  @apply border border-border bg-card text-card-foreground shadow-sm;
  @apply transition-all duration-300;

  &:hover {
    @apply shadow-xl;
  }
}

/* Card 装饰条 */
@utility card-deco {
  @apply relative;

  &::before {
    content: '';
    @apply absolute top-0 left-0 right-0 h-1 rounded-t-xl bg-gradient-to-r;
  }
}

@utility card-deco-primary {
  @apply card-deco;

  &::before {
    @apply from-primary/70 via-primary to-primary/70;
  }
}

@utility card-deco-destructive {
  @apply card-deco;

  &::before {
    @apply from-destructive/70 via-destructive to-destructive/70;
  }
}

/* Card 交互效果 */
@utility card-hover {
  &:hover {
    @apply -translate-y-2;
  }
}

@utility card-hover-lift {
  &:hover {
    @apply -translate-y-1 shadow-2xl;
  }
}

@utility card-hover-scale {
  &:hover {
    @apply scale-105;
  }
}

@utility card-hover-glow {
  &:hover {
    @apply shadow-2xl ring-2 ring-primary/20;
  }
}

@utility card-title {
  @apply flex items-center space-x-3 mb-6;

  /* 左侧装饰条 */
  &::before {
    content: '';
    @apply w-1 h-8 bg-gradient-to-b from-primary to-chart-2 rounded-full;
  }

  /* 右侧延伸线 */
  &::after {
    content: '';
    @apply flex-1 h-px bg-gradient-to-r from-border to-transparent ml-4;
  }
}

/* Card 主题变体 */
@utility card-primary {
  @apply card border-primary/30 bg-primary/5;
}

@utility card-destructive {
  @apply card border-destructive/30 bg-destructive/5;
}

@utility card-ghost {
  @apply card border-transparent bg-transparent shadow-none;

  &:hover {
    @apply bg-accent shadow-sm;
  }
}

@utility card-outline {
  @apply card bg-transparent;
}

/* ============================================
   Dialog 对话框样式库
   ============================================ */

/* 基础 Dialog 容器 */
@utility dialog {
  @apply fixed inset-0 z-[99];
  @apply grid h-full w-full items-center justify-items-center;
  @apply m-0 p-0;
  @apply max-w-none max-h-none;
  @apply bg-transparent border-none;
  @apply overflow-hidden invisible;
  overscroll-behavior: contain;

  @apply transition-colors duration-300;
  transition:
    visibility 0.3s allow-discrete,
    background-color 0.3s ease-out;

  &::backdrop {
    @apply hidden;
  }

  &[open] {
    @apply visible;
    background-color: oklch(0% 0 0 / 0.4);

    .dialog-body {
      scale: 1;
      opacity: 1;
    }
  }

  @starting-style {
    &[open] {
      @apply invisible;
    }
  }
}

/* Dialog Body 基础样式 */
@utility dialog-body {
  @apply relative flex flex-col;
  @apply p-6 max-w-[90vw] max-h-[90vh];
  @apply bg-card rounded-lg shadow-xl border border-border;
  @apply overflow-y-auto;

  scale: 0.95;
  opacity: 0;
  transition:
    scale 0.3s ease-out,
    opacity 0.2s ease-out 0.05s;
}

/* Dialog Body 尺寸变体 */
@utility dialog-body-sm {
  @apply w-80;
}

@utility dialog-body-md {
  @apply w-96;
}

@utility dialog-body-lg {
  @apply w-[32rem];
}

@utility dialog-body-xl {
  @apply w-[40rem];
}

@utility dialog-body-full {
  @apply w-[95vw];
}

/* Dialog Header */
@utility dialog-header {
  @apply flex items-center justify-between mb-4 pb-4 border-b border-border;
}

@utility dialog-title {
  @apply text-xl font-bold text-foreground;
}

@utility dialog-close {
  @apply p-2 rounded-lg hover:bg-accent transition-colors;
  @apply text-muted-foreground hover:text-foreground;
}

/* Dialog Content */
@utility dialog-content {
  @apply flex-1 overflow-y-auto;
  @apply text-sm text-muted-foreground;
}

/* Dialog Footer */
@utility dialog-footer {
  @apply flex items-center justify-end gap-3 mt-6 pt-4 border-t border-border;
}

/* Dialog 动画变体 - 从上滑入 */
@utility dialog-slide-down {
  @apply dialog;

  .dialog-body {
    @apply -translate-y-8 opacity-0;
  }

  &[open] .dialog-body {
    @apply translate-y-0 opacity-100;
    @apply transition-all duration-300 ease-out;
  }
}

/* Dialog 动画变体 - 从下滑入 */
@utility dialog-slide-up {
  @apply dialog;

  .dialog-body {
    @apply translate-y-8 opacity-0;
  }

  &[open] .dialog-body {
    @apply translate-y-0 opacity-100;
    @apply transition-all duration-300 ease-out;
  }
}

/* Dialog 动画变体 - 缩放弹出 */
@utility dialog-bounce {
  @apply dialog;

  .dialog-body {
    @apply scale-80 opacity-0;
  }

  &[open] .dialog-body {
    @apply scale-100 opacity-100;
    transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }
}

/* Dialog 背景模糊效果 */
@utility dialog-blur {
  @apply dialog;

  &[open] {
    backdrop-filter: blur(4px);
  }
}
